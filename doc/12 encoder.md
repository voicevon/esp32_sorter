# Encoder类

## 1. 概述
Encoder类提供位置跟踪和中断处理。相位范围0-199，实现编码器计数值的精确跟踪。

## 2. 公共接口
- `void initialize()`：初始化编码器引脚和中断
- `int getCurrentPosition()`：获取当前逻辑位置（0-199）

## 3. 中断处理
- A相和B相中断：使用双中断模式和四状态解码算法，精确跟踪旋转方向和计数值
- Z相中断：在零位位置重置计数值

## 4. 回调机制
- 计数值变化回调：用于扫描仪采样
- 位置回调：在特定相位触发扫描仪
- 出口动作回调：在特定相位触发出口动作
- 出口复位回调：触发出口复位操作

## 5. 核心功能
- 提供0-199相位位置信息
- 使用AB相双中断模式提高计数精度和抗干扰能力