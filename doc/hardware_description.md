# ESP32 Sorter 项目硬件说明

## 1. 核心开发板

- **型号**：ESP32 Dev Module
- **主要功能**：
  - 双核心Xtensa LX6微处理器，主频高达240MHz
  - 支持WiFi和蓝牙功能
  - 内置4MB Flash存储
  - 多种外设接口：GPIO、UART、SPI、I2C、ADC等

## 2. 编码器模块

- **类型**：100线增量式编码器
- **分辨率**：100脉冲/转
- **引脚说明**：
  - **A相**：编码脉冲信号A
  - **B相**：编码脉冲信号B
  - **Z相**：零位信号（每转输出一个脉冲，用于归零）
- **工作电压**：3.3V-5V（与ESP32兼容）

## 3. 引脚连接建议

| 编码器引脚 | ESP32引脚 | 功能说明 |
|------------|-----------|----------|
| A          | GPIO 25   | A相输入信号 |
| B          | GPIO 26   | B相输入信号 |
| Z          | GPIO 27   | 零位信号输入 |
| VCC        | 3.3V      | 电源正极 |
| GND        | GND       | 电源负极 |

## 4. 编码器工作原理

- **A相和B相**：输出相差90度的方波信号，通过检测A相和B相的相位关系可以确定旋转方向
  - 顺时针旋转：A相领先B相
  - 逆时针旋转：B相领先A相
- **Z相**：每旋转一周输出一个脉冲，用于确定绝对零位位置

## 5. 电气参数

- **编码器工作电流**：< 10mA
- **输出信号类型**：TTL兼容
- **最大转速**：10,000 RPM
- **响应频率**：最高可达100kHz

## 6. 安装注意事项

- 确保编码器与旋转轴连接牢固，避免打滑
- 连接线应尽量短，减少干扰
- 必要时可在信号线上增加10-100Ω的上拉电阻提高信号稳定性
- 编码器信号线应与动力线分开布线，避免电磁干扰

## 7. 调试建议

- 使用示波器或逻辑分析仪测量A相和B相信号的相位关系
- 通过读取Z相脉冲确认编码器是否每转一圈产生正确的零位信号
- 旋转编码器时观察计数变化，验证方向检测是否正确