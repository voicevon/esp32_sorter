# 文档和代码一致性检查与修正计划

## 发现的问题

### 1. 时间安排矛盾（严重）
- **问题**：outlet.md中说单个出口测试周期是7秒，但代码实现是6秒
- **原因**：代码中interval = outletState ? 4500 : 1500，周期是4500 + 1500 = 6000ms（6秒）
- **修正**：将outlet.md中的时间安排改为6秒

### 2. 单位一致性（需要确认）
- **问题**：diameter_scanner.md使用"unit"，outlet.md使用"毫米"
- **需要确认**：unit和毫米的关系是什么？

### 3. MODE_DIAGNOSE_OUTLET子模式说明缺失
- **问题**：31 system_mode_management.md中提到有2个子模式，但没有详细说明
- **修正**：添加子模式0（轮巡降落）和子模式1（轮巡上升）的详细说明

### 4. Encoder类新方法说明缺失
- **问题**：encoder.md中没有hasPositionChanged()和resetPositionChanged()方法的说明
- **修正**：添加这两个方法的文档说明

### 5. Sorter类新方法说明缺失
- **问题**：17 sorter.md中没有getSortingSpeedPerSecond()和getSortingSpeedPerMinute()方法的说明
- **修正**：添加这两个方法的文档说明

### 6. OLED显示更新说明缺失
- **问题**：31 system_mode_management.md中只说明了MODE_DIAGNOSEncoder的显示更新原则
- **修正**：添加MODE_NORMAL和MODE_DIAGNOSE_OUTLET的显示更新说明

### 7. outletSubMode变量说明缺失
- **问题**：31 system_mode_management.md中没有outletSubMode变量的说明
- **修正**：添加outletSubMode变量的说明

## 修正计划

1. **outlet.md**：修改时间安排为6秒
2. **31 system_mode_management.md**：添加MODE_DIAGNOSE_OUTLET子模式详细说明
3. **encoder.md**：添加hasPositionChanged()和resetPositionChanged()方法说明
4. **17 sorter.md**：添加getSortingSpeedPerSecond()和getSortingSpeedPerMinute()方法说明
5. **31 system_mode_management.md**：添加MODE_NORMAL和MODE_DIAGNOSE_OUTLET的显示更新说明
6. **31 system_mode_management.md**：添加outletSubMode变量说明
7. **确认单位**：与用户确认unit和毫米的关系