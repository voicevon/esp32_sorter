# 未被调用的公共方法报告

## 检查范围
检查了所有源文件（.cpp）中的公共方法调用情况，重点关注那些未被任何地方调用的公共方法。

## 未被调用的公共方法列表

### 1. ScannerDiagnosticHandler类
- `getRisingEdgeEncoderValues()`: 第67-69行
- `getFallingEdgeEncoderValues()`: 第74-76行

### 2. DiameterScanner类
- `setLogLevel(LoggerLevel level)`: 第87行

### 3. Sorter类
- `start()`: 第72行
- `stop()`: 第75行
- `isRunning()`: 第78行
- `getDivergencePoint()`: 第95行
- `setDivergencePoint()`: 第98行
- `reset()`: 第101行
- `executePreset()`: 第104行

## 调用情况说明

### ScannerDiagnosticHandler类
- `onPhaseChange(int phase)`: 被Sorter类的静态回调函数调用（间接调用）
- `initialize()`: 被main.cpp第96行调用
- `displayRawDiameters()`: 被update()方法内部调用
- `recordEncoderValues(int phase)`: 被onPhaseChange()方法内部调用
- `enableScanEdgeCalibration()`: 被update()方法内部调用
- `disableScanEdgeCalibration()`: 被update()方法内部调用和main.cpp第172行调用
- `update()`: 被main.cpp第410行调用
- `switchToNextSubMode()`: 被main.cpp第406行调用
- `getCurrentSubMode()`: 内部使用

### DiameterScanner类
- `initialize()`: 被Sorter类的initialize()方法调用
- `sample(int phase)`: 被Sorter类和ScannerDiagnosticHandler类的onPhaseChange()方法调用
- `getDiameterAndStop()`: 被Sorter类的processCalculateDiameter()方法调用
- `getRawDiameters()`: 被ScannerDiagnosticHandler类的displayRawDiameters()方法调用
- `getSensorActiveCount(int index)`: 被ScannerDiagnosticHandler类的displayRawDiameters()方法调用
- `getSensorWeight(int index)`: 被ScannerDiagnosticHandler类的displayRawDiameters()方法调用
- `getRisingEdgeEncoderValues()`: 被ScannerDiagnosticHandler类的update()方法调用
- `getFallingEdgeEncoderValues()`: 被ScannerDiagnosticHandler类的update()方法调用
- `setLogLevel(LoggerLevel level)`: 未被调用

### Sorter类
- `initialize()`: 被main.cpp第93行调用
- `openReloader()`: 被main.cpp第366行调用
- `closeReloader()`: 被main.cpp第370行调用
- `getOutletCount()`: 内部使用
- `getDisplayData()`: 被UserInterface类的display()方法调用

## 建议

### 可以安全删除的方法
1. **ScannerDiagnosticHandler类**:
   - `getRisingEdgeEncoderValues()`
   - `getFallingEdgeEncoderValues()`
   - 理由：这些方法是ScannerDiagnosticHandler类的公共方法，但没有被任何外部代码调用，且内部也没有使用。

2. **DiameterScanner类**:
   - `setLogLevel(LoggerLevel level)`
   - 理由：虽然这个方法看起来是用于调试的，但目前没有被任何代码调用。

### 需要谨慎考虑的方法
**Sorter类**:
- `start()`, `stop()`, `isRunning()`, `reset()`: 这些方法可能是为了未来扩展而预留的控制接口，虽然目前没有被调用，但删除可能会影响系统的可扩展性。
- `getDivergencePoint()`, `setDivergencePoint()`, `executePreset()`: 这些方法与分流点设置相关，可能是为了未来的配置功能预留的，建议保留。

## 结论

大部分未被调用的公共方法都是为了未来功能扩展而预留的，尤其是Sorter类的控制方法。建议只删除那些明确没有用途的方法（如ScannerDiagnosticHandler类的编码器值获取方法和DiameterScanner类的日志级别设置方法），而保留那些可能在未来有用的方法。